!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/forms"),require("@angular/platform-browser"),require("@angular/common")):"function"==typeof define&&define.amd?define(["exports","@angular/core","@angular/forms","@angular/platform-browser","@angular/common"],t):t(e["ngx-markdown-editor"]={},e.ng.core,e.ng.forms,e.ng.platformBrowser,e.ng.common)}(this,function(e,t,n,i,o){"use strict";var r=function(){function e(e,t,n,i){void 0===e&&(e=!1),void 0===t&&(t=-1),this.required=e,this.maxlength=t,this._renderer=n,this._domSanitizer=i,this.hideToolbar=!1,this.height="300px",this._hideIcons={},this.showPreviewPanel=!0,this.isFullScreen=!1,this._onChange=function(e){},this._onTouched=function(){}}return Object.defineProperty(e.prototype,"mode",{get:function(){return this._mode||"editor"},set:function(e){(!e||"editor"!==e.toLowerCase()&&"preview"!==e.toLowerCase())&&(e="editor"),this._mode=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this._options},set:function(e){var t=this;this._options=e||{showBorder:!0,hideIcons:[]},this._hideIcons={},(this._options.hideIcons||[]).forEach(function(e){t._hideIcons[e]=!0})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"markdownValue",{get:function(){return this._markdownValue||""},set:function(t){var n=this;this._markdownValue=t,this._onChange(t),this.preRender&&this.preRender instanceof Function&&(t=this.preRender(t)),null!==t&&t!==undefined&&(this._renderMarkTimeout&&clearTimeout(this._renderMarkTimeout),this._renderMarkTimeout=setTimeout(function(){var e=marked(t||"",n._markedOpt);n._previewHtml=n._domSanitizer.bypassSecurityTrustHtml(e)},100))},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){var e=new marked.Renderer;e.code=function(e,t){return'<pre style="padding: 0; border-radius: 0;"><code class="hljs '+t+'">'+(!(!t||!hljs.getLanguage(t))?hljs.highlight(t,e).value:e)+"</code></pre>"},e.table=function(e,t){return'<table class="table table-bordered">\n<thead>\n'+e+"</thead>\n<tbody>\n"+t+"</tbody>\n</table>\n"},e.listitem=function(e){return/^\s*\[[x ]\]\s*/.test(e)?'<li style="list-style: none;">'+(e=e.replace(/^\s*\[ \]\s*/,'<i class="fa fa-square-o" style="margin: 0 0.2em 0.25em -1.6em;"></i> ').replace(/^\s*\[x\]\s*/,'<i class="fa fa-check-square" style="margin: 0 0.2em 0.25em -1.6em;"></i> '))+"</li>":"<li>"+e+"</li>"},this._markedOpt={renderer:e,highlight:function(e){return hljs.highlightAuto(e).value}}},e.prototype.ngAfterViewInit=function(){var n=this,e=this.aceEditorContainer.nativeElement;this.editor=ace.edit(e),this.editor.$blockScrolling=Infinity,this.editor.getSession().setUseWrapMode(!0),this.editor.getSession().setMode("ace/mode/markdown"),this.editor.setValue(this.markdownValue||""),this.editor.on("change",function(e){var t=n.editor.getValue();n.markdownValue=t})},e.prototype.ngOnDestroy=function(){},e.prototype.writeValue=function(e){var t=this;setTimeout(function(){void 0!==(t.markdownValue=e)&&t.editor&&t.editor.setValue(e||"")},1)},e.prototype.registerOnChange=function(e){this._onChange=e},e.prototype.registerOnTouched=function(e){this._onTouched=e},e.prototype.validate=function(e){var t=null;return this.required&&0===this.markdownValue.length&&(t={required:!0}),0<this.maxlength&&this.markdownValue.length>this.maxlength&&(t={maxlength:!0}),t},e.prototype.insertContent=function(e){if(this.editor){var t=this.editor.getSelectedText(),n=!!t,i=2,o="",r=this.editor.selection.getRange();switch(e){case"Bold":o="Bold Text",t="**"+(t||o)+"**";break;case"Italic":o="Italic Text",t="*"+(t||o)+"*",i=1;break;case"Heading":o="Heading",t="# "+(t||o);break;case"Refrence":o="Refrence",t="> "+(t||o);break;case"Link":t="[](http://)",i=1;break;case"Image":t="![](http://)";break;case"Ul":t="- "+(t||o);break;case"Ol":t="1. "+(t||o),i=3;break;case"Code":o="Source Code",t="```language\r\n"+(t||o)+"\r\n```",i=3}this.editor.session.replace(r,t),n||(r.start.column+=i,r.end.column=r.start.column+o.length,this.editor.selection.setRange(r)),this.editor.focus()}},e.prototype.togglePreview=function(){this.showPreviewPanel=!this.showPreviewPanel,this.editorResize()},e.prototype.previewPanelClick=function(e){e.preventDefault(),e.stopPropagation()},e.prototype.fullScreen=function(){this.isFullScreen=!this.isFullScreen,this._renderer.setElementStyle(document.body,"overflowY",this.isFullScreen?"hidden":"auto"),this.editorResize()},e.prototype.editorResize=function(e){var t=this;void 0===e&&(e=100),this.editor&&setTimeout(function(){t.editor.resize(),t.editor.focus()},e)},e}();r.decorators=[{type:t.Component,args:[{selector:"md-editor",styles:[".md-editor-container{margin-bottom:15px;border:1px solid rgba(0,0,0,.1)}.md-editor-container.fullscreen{margin:0;position:fixed;border:0;top:0;left:0;width:100%;height:100%;z-index:99999999}.md-editor-container.fullscreen .editor-panel,.md-editor-container.fullscreen .preview-panel{height:calc(100vh - 40px)!important}.md-editor-container .ace-editor{height:100%}.md-editor-container .tool-bar{background-color:#f5f5f5;border-bottom:1px solid rgba(0,0,0,.1)}.md-editor-container .tool-bar .btn-group{padding:6px}.md-editor-container .tool-bar .btn-group>.btn:first-child::before{content:' ';background-color:#a9a9a9;width:1px;height:24px;left:-9px;top:2px;position:absolute}.md-editor-container .tool-bar .btn-group.hide-split>.btn:first-child::before,.md-editor-container .tool-bar .btn-group:first-child>.btn:first-child::before{display:none}.md-editor-container .tool-bar .btn{margin-bottom:0}.md-editor-container .editor-container{display:-webkit-box;display:-ms-flexbox;display:flex}.md-editor-container .editor-container>div{-webkit-box-flex:1;-ms-flex:1;flex:1}.md-editor-container .preview-panel{border-left:1px solid rgba(0,0,0,.1);background-color:#fff;padding:10px;overflow-y:auto}.md-editor-container .md-footer{padding:2px;background-color:#f0f0f0;font-size:12px;border-top:1px solid rgba(0,0,0,.1)}"],template:'<div class="md-editor-container" [class.fullscreen]="isFullScreen">\n  <div class="tool-bar" *ngIf="!hideToolbar && mode != \'preview\'">\n    <div class="btn-group">\n      <button class="btn btn-sm btn-default" type="button" title="Bold" (click)="insertContent(\'Bold\')" *ngIf="!_hideIcons.Bold">\n        <i class="fa fa-bold"></i>\n      </button>\n      <button class="btn btn-sm btn-default" type="button" title="Italic" (click)="insertContent(\'Italic\')" *ngIf="!_hideIcons.Italic">\n        <i class="fa fa-italic"></i>\n      </button>\n      <button class="btn btn-sm btn-default" type="button" title="Heading" (click)="insertContent(\'Heading\')" *ngIf="!_hideIcons.Heading">\n        <i class="fa fa-header"></i>\n      </button>\n      <button class="btn btn-sm btn-default" type="button" title="Refrence" (click)="insertContent(\'Refrence\')" *ngIf="!_hideIcons.Refrence">\n        <i class="fa fa-quote-left"></i>\n      </button>\n    </div>\n    <div class="btn-group">\n      <button class="btn btn-sm btn-default" type="button" title="Link" (click)="insertContent(\'Link\')" *ngIf="!_hideIcons.Link">\n        <i class="fa fa-link"></i>\n      </button>\n      <button class="btn btn-sm btn-default" type="button" title="Image" (click)="insertContent(\'Image\')" *ngIf="!_hideIcons.Image">\n        <i class="fa fa-image"></i>\n      </button>\n    </div>\n    <div class="btn-group">\n      <button class="btn btn-sm btn-default" type="button" title="Unordered List" (click)="insertContent(\'Ul\')" *ngIf="!_hideIcons.Ul">\n        <i class="fa fa-list-ul"></i>\n      </button>\n      <button class="btn btn-sm btn-default" type="button" title="Ordered List" (click)="insertContent(\'Ol\')" *ngIf="!_hideIcons.Ol">\n        <i class="fa fa-list-ol"></i>\n      </button>\n      <button class="btn btn-sm btn-default" type="button" title="Code Block" (click)="insertContent(\'Code\')" *ngIf="!_hideIcons.Code">\n        <i class="fa fa-file-code-o"></i>\n      </button>\n    </div>\n    <div class="btn-group">\n      <button class="btn btn-sm btn-default" type="button" [attr.title]="showPreviewPanel ? \'Hide Preview\' : \'Show Preview\'" (click)="togglePreview()"\n        *ngIf="!_hideIcons.TogglePreview">\n        <i class="fa" [class.fa-eye]="!showPreviewPanel" [class.fa-eye-slash]="showPreviewPanel"></i>\n      </button>\n    </div>\n    <div class="btn-group pull-right hide-split">\n      <button class="btn btn-sm btn-default" type="button" [class.active]="isFullScreen" (click)="fullScreen()" *ngIf="!_hideIcons.FullScreen">\n        <i class="fa fa-arrows-alt"></i>\n      </button>\n    </div>\n  </div>\n  <div class="editor-container">\n    <div [style.display]="mode == \'preview\' ? \'none\' : null">\n      <div class="editor-panel" [style.height]="height">\n        <div class="ace-editor" #aceEditor></div>\n      </div>\n    </div>\n    <div [style.display]="showPreviewPanel ? \'block\' : \'none\'" (click)="previewPanelClick($event)">\n      <div class="preview-panel" [innerHtml]="_previewHtml" [style.height]="height"></div>\n    </div>\n  </div>\n  <div *ngIf="maxlength > 0 && mode != \'preview\'">\n    <div class="text-right md-footer">\n      {{ markdownValue?.length }} / {{ maxlength }}\n    </div>\n  </div>\n</div>\n',providers:[{provide:n.NG_VALUE_ACCESSOR,useExisting:t.forwardRef(function(){return r}),multi:!0},{provide:n.NG_VALIDATORS,useExisting:t.forwardRef(function(){return r}),multi:!0}]}]}],r.ctorParameters=function(){return[{type:undefined,decorators:[{type:t.Attribute,args:["required"]}]},{type:undefined,decorators:[{type:t.Attribute,args:["maxlength"]}]},{type:t.Renderer},{type:i.DomSanitizer}]},r.propDecorators={aceEditorContainer:[{type:t.ViewChild,args:["aceEditor"]}],hideToolbar:[{type:t.Input}],height:[{type:t.Input}],preRender:[{type:t.Input}],mode:[{type:t.Input}],options:[{type:t.Input}]};var s=function(){};s.decorators=[{type:t.NgModule,args:[{declarations:[r],imports:[o.CommonModule,n.FormsModule],exports:[r]}]}],s.ctorParameters=function(){return[]},e.LMarkdownEditorModule=s,e.MarkdownEditorComponent=r,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ngx-markdown-editor.umd.min.js.map
